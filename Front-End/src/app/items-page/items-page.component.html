<div class="button-line">
    <div class="items-num">
        Number of Items <span class="badge badge-light">{{itemsArray.length}}</span>
    </div>
    <app-primary-btn class="add-item-btn" [text]= "'Add Item'" (clickButton)="addItem(content)"></app-primary-btn>
</div>


<app-items-list class="items-list" [itemsArray]= "itemsArray"
(updateItem)="updateItem($event,content)" (removeItem)= "removeItem($event)" (withdrawItem)= "withdrawItem($event,content)" (depositItem)= "depositItem($event,content)" >
</app-items-list>


<!-- TODO: mark in 'red' if the value is invalid -->
<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">{{modalTitle}}</h4>
      <button type="button" class="close" aria-label="Close" (click)="resetChanges()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <div class= "add-content" *ngIf="modalStatus===ModalStatus.AddItem">
            <div>
                <label>Item Name:</label>
                <input id="add-input-name" type="text" [(ngModel)]= "addNameValue"
                (ngModelChange)= "changeAddItemValue()">
            </div>
           <div>
                <label>Item Description:</label>
                <textarea id="add-input-description" [(ngModel)]= "addDescriptionValue"
                (ngModelChange)= "changeAddItemValue()"></textarea>
           </div>
            <div>
                <label>Item Amount:</label>
                <input id="add-input-amount" type="number" min="0" [(ngModel)]= "addCountValue"
                (ngModelChange)= "changeAddItemValue()">
                <div class="errorMessage" *ngIf="errorMessage1 || errorMessage2">
                    <div>{{errorMessage1}}</div>
                    <div>{{errorMessage2}}</div>
                </div>

            </div>
        </div>
        <div class= "update-content" *ngIf="modalStatus===ModalStatus.UpdateItem">
            <div>
                <label>New Item Name:</label>
                <input id="update-input-name" type="text" [(ngModel)]= "updateNameValue"
                (ngModelChange)= "changeUpdateItemValue()">
            </div>
           <div>
                <label>New Item Description:</label>
                <textarea id="update-input-description" [(ngModel)]= "updateDescriptionValue"
                (ngModelChange)= "changeUpdateItemValue()" rows="3"></textarea>
           </div>
           <div class="errorMessage" *ngIf="errorMessage1">
                {{errorMessage1}}
            </div>

        </div>
        <div class= "withdraw-content" *ngIf="modalStatus===ModalStatus.WithdrawItem">
            <div> Item Amount: {{modalItem.count}}</div>
            <label>New Item Amount:</label>
            <input id="withdraw-input" type="number" min="0" [max]="modalItem.count"  [(ngModel)]= "withdrawAmountValue"
             (ngModelChange)= "changeWithdrawItemValue()">
             <div class="errorMessage" *ngIf="errorMessage1">
                {{errorMessage1}}
             </div>
            

        </div>
        <div class= "deposit-content" *ngIf="modalStatus===ModalStatus.DepositItem">
            <div> Item Amount: {{modalItem.count}}</div>
            <label>New Item Amount:</label>
            <input id="deposit-input" type="number" min="0" [(ngModel)]= "depositAmountValue"
             (ngModelChange)= "changeDepositItemValue()">
             <div class="errorMessage" *ngIf="errorMessage1">
                {{errorMessage1}}
             </div>

        </div>
     
    </div>
    <div class="modal-footer">
      <button id="cancel-button" type="button"  class="btn btn-outline-secondary" (click)="resetChanges()" >Cancel</button>
      <button id="save-button" type="button" [disabled]= "errorMessage1 || errorMessage2" class="btn btn-outline-primary" (click)="saveChanges()">Save</button>
    </div>
  </ng-template>
  
  
 

